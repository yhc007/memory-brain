<div class="mb-8">
    <h1 class="text-2xl font-semibold tracking-tight">Visual Memory</h1>
    <p class="text-zinc-500 text-sm mt-1">Image-based memory with CLIP embeddings</p>
</div>

<div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
    <div class="stat-card">
        <div class="flex items-center gap-2 text-zinc-500 text-xs font-medium uppercase tracking-wider mb-2">
            <i data-lucide="camera" class="w-3.5 h-3.5"></i> Total Images
        </div>
        <div class="text-3xl font-semibold text-zinc-100">{{TOTAL_IMAGES}}</div>
    </div>
    
    <div class="stat-card">
        <div class="flex items-center gap-2 text-zinc-500 text-xs font-medium uppercase tracking-wider mb-2">
            <i data-lucide="link" class="w-3.5 h-3.5"></i> CLIP Server
        </div>
        <div class="text-lg font-medium text-zinc-200 mt-1">{{CLIP_STATUS}}</div>
    </div>
    
    <div class="stat-card">
        <div class="flex items-center gap-2 text-zinc-500 text-xs font-medium uppercase tracking-wider mb-2">
            <i data-lucide="ruler" class="w-3.5 h-3.5"></i> Embedding Dim
        </div>
        <div class="text-3xl font-semibold text-zinc-100">512</div>
    </div>
</div>

<!-- Search by Text -->
<div class="card p-6 mb-6">
    <h2 class="text-base font-semibold text-zinc-200 mb-4 flex items-center gap-2">
        <i data-lucide="search" class="w-4 h-4 text-zinc-500"></i> Search Images by Text
    </h2>
    <form hx-post="/api/visual/search" hx-target="#search-results" hx-swap="innerHTML" class="flex gap-3">
        <input 
            type="text" name="query" placeholder="e.g., 'cute cat', 'sunset at beach'..."
            class="flex-1 bg-[#19191c] border border-[#2a2a2e] rounded-lg px-4 py-2.5 text-sm text-zinc-100 placeholder-zinc-600 focus:border-indigo-500/50 focus:outline-none transition"
        />
        <button type="submit" class="bg-indigo-500/15 text-indigo-400 hover:bg-indigo-500/25 px-6 py-2.5 rounded-lg transition text-sm font-medium">
            Search
        </button>
    </form>
    <div id="search-results" class="mt-5"></div>
</div>

<!-- Upload Image -->
<div class="card p-6 mb-6">
    <h2 class="text-base font-semibold text-zinc-200 mb-4 flex items-center gap-2">
        <i data-lucide="upload" class="w-4 h-4 text-zinc-500"></i> Store New Image
    </h2>
    <form hx-post="/api/visual/store" hx-target="#upload-result" hx-swap="innerHTML" hx-encoding="multipart/form-data" class="space-y-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="block text-xs font-medium text-zinc-500 uppercase tracking-wider mb-2">Image Path</label>
                <input type="text" name="path" placeholder="/path/to/image.jpg"
                    class="w-full bg-[#19191c] border border-[#2a2a2e] rounded-lg px-4 py-2.5 text-sm text-zinc-100 placeholder-zinc-600 focus:border-indigo-500/50 focus:outline-none transition" />
            </div>
            <div>
                <label class="block text-xs font-medium text-zinc-500 uppercase tracking-wider mb-2">Description</label>
                <input type="text" name="description" placeholder="What's in this image?"
                    class="w-full bg-[#19191c] border border-[#2a2a2e] rounded-lg px-4 py-2.5 text-sm text-zinc-100 placeholder-zinc-600 focus:border-indigo-500/50 focus:outline-none transition" />
            </div>
        </div>
        <div>
            <label class="block text-xs font-medium text-zinc-500 uppercase tracking-wider mb-2">Tags</label>
            <input type="text" name="tags" placeholder="cat, pet, cute"
                class="w-full bg-[#19191c] border border-[#2a2a2e] rounded-lg px-4 py-2.5 text-sm text-zinc-100 placeholder-zinc-600 focus:border-indigo-500/50 focus:outline-none transition" />
        </div>
        <button type="submit" class="bg-indigo-500/15 text-indigo-400 hover:bg-indigo-500/25 px-6 py-2.5 rounded-lg transition text-sm font-medium flex items-center gap-2">
            <i data-lucide="brain" class="w-4 h-4"></i> Store Visual Memory
        </button>
    </form>
    <div id="upload-result" class="mt-4"></div>
</div>

<!-- Image Gallery -->
<div class="card p-6">
    <h2 class="text-base font-semibold text-zinc-200 mb-4 flex items-center gap-2">
        <i data-lucide="grid-3x3" class="w-4 h-4 text-zinc-500"></i> Recent Visual Memories
    </h2>
    <div id="gallery" class="grid grid-cols-2 md:grid-cols-4 gap-3">
        {{GALLERY}}
    </div>
</div>
